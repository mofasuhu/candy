<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>شرح الإخصاب المزدوج التفاعلي</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f2f5;
            font-family: sans-serif;
            flex-direction: column;
        }

        /* حاوية الشريحة الرئيسية */
        .slide-container {
            position: relative;
            width: 960px;  /* عرض الصورة الأصلية */
            height: 720px; /* ارتفاع الصورة الأصلية */
            background-color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            overflow: hidden; /* لضمان عدم خروج أي شيء عن الإطار */
        }

        /* الصورة الخلفية الأصلية النظيفة */
        .base-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* تنسيق عام لطبقات الكتابة اليدوية */
        .handwriting-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* نستخدم صورة الكتابة الشفافة الكاملة هنا */
            /* استبدل 'handwriting_overlay.png' باسم صورتك الشفافة */
            background-image: url('handwriting_overlay.png'); 
            background-size: cover;
            z-index: 2;
            opacity: 0; /* مخفية في البداية */
            transition: opacity 0.8s ease-in-out, clip-path 1s ease-in-out; /* تأثير ظهور ناعم */
        }

        /* عند إضافة هذا الكلاس، يظهر العنصر */
        .handwriting-layer.visible {
            opacity: 1;
        }

        /* --- تعريف مناطق الظهور لكل خطوة باستخدام clip-path --- */
        /* هذه الأرقام تقريبية تعتمد على أماكن الكتابة في الصورة التي صممتها لك */
        /* تحتاج لتعديل النسب المئوية (inset: top right bottom left) لتناسب صورتك بدقة */

        /* الخطوة 1: كلمة zygote والدائرة والسهم */
        .step-1 {
            /* نقص الصورة لتظهر فقط المنطقة حول كلمة zygote */
            clip-path: inset(28% 55% 55% 20%); 
        }

        /* الخطوة 2: كلمة endosperm nucleus والدائرة والسهم */
        .step-2 {
            clip-path: inset(40% 30% 40% 8%);
        }

        /* الخطوة 3: تعريف Triple fusion والشرح بخط اليد */
        .step-3 {
             /* نظهر المنطقة السفلية ومنطقة العنوان الجانبي */
            clip-path: inset(50% 0% 0% 0%);
            /* تأثير إضافي: لنجعلها تظهر كأنها تُكتب من اليسار لليمين */
            clip-path: polygon(0 50%, 0 50%, 0 100%, 0 100%); /* بداية الحركة */
            transition: clip-path 2s ease-out, opacity 0.5s;
        }
        /* الحالة النهائية للخطوة 3 */
        .step-3.visible {
             clip-path: polygon(0 50%, 100% 50%, 100% 100%, 0 100%); /* نهاية الحركة - كشف كامل المنطقة */
        }


        /* الخطوة 4: الدوائر الحمراء في الأسفل */
        .step-4 {
             clip-path: inset(60% 55% 15% 5%);
        }

        /* زر التحكم */
        .controls {
            margin-top: 20px;
            text-align: center;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
        }
        button:hover { background-color: #0056b3; }
        p.hint { margin-top: 10px; color: #666; }

    </style>
</head>
<body>

    <div class="slide-container">
        <img src="./1760433366029-628195460245.01_llm.png" alt="Base Slide" class="base-image">

        <div class="handwriting-layer step-1"></div>
        <div class="handwriting-layer step-2"></div>
        <div class="handwriting-layer step-3"></div>
        <div class="handwriting-layer step-4"></div>
    </div>

    <div class="controls">
        <button id="nextBtn">أظهر الخطوة التالية</button>
        <p class="hint">تلميح: يمكنك أيضاً ضغط زر "المسافة" (Space) أو السهم الأيمن في لوحة المفاتيح.</p>
    </div>


    <script>
        // ترتيب الخطوات التي نريد إظهارها
        const steps = document.querySelectorAll('.handwriting-layer');
        let currentStep = 0;

        const nextBtn = document.getElementById('nextBtn');

        // دالة لإظهار الخطوة التالية
        function showNextStep() {
            if (currentStep < steps.length) {
                // إضافة كلاس 'visible' للخطوة الحالية لتفعيل تأثير الظهور في CSS
                steps[currentStep].classList.add('visible');
                currentStep++;
            } else {
                console.log("انتهت جميع الخطوات الشرح.");
                // اختياري: يمكنك إعادة الشرح من البداية
                // resetSteps();
            }
        }

        // دالة اختيارية لإعادة البدء
        function resetSteps() {
            steps.forEach(step => step.classList.remove('visible'));
            currentStep = 0;
        }

        // الاستماع لضغط الزر في الصفحة
        nextBtn.addEventListener('click', showNextStep);

        // الاستماع لضغط أزرار لوحة المفاتيح (المسافة أو السهم الأيمن)
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space' || event.code === 'ArrowRight') {
                event.preventDefault(); // لمنع نزول الصفحة للأسفل عند ضغط المسافة
                showNextStep();
            }
        });

    </script>

</body>
</html>
